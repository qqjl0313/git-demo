<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>你好世界</title>
  </head>
  <body>
    <script type="text/javascript" src="https://g.alicdn.com/dingding/dingtalk-jsapi/2.14.1/dingtalk.open.js"></script>
    <script>
      // 钉钉分享
      function DingDingShare() {
        console.log(dd);
        //window.navigator.userAgent属性包含了浏览器类型、版本、操作系统类型、浏览器引擎类型等信息，这个属性可以用来判断浏览器类型
        var ua = navigator.userAgent.toLowerCase();
        alert(ua);
        console.log(ua);
        var ding = ua.indexOf('dingtalk') >= 0; // 判断是不是钉钉
        alert(dd.env.platform);
        if (ding && dd.env.platform !== 'notInDingTalk') {
          dd.biz.util.share({
            type: 0,
            url: window.location.href, //分享地址
            title: '你好',
            content: '描述',
            image: '',
            onSuccess: function () {
              alert('success');
              //onSuccess将在调起分享组件成功之后回调
              /**/
            },
            onFail: function (err) {
              alert(err);
            },
          });
        }
      }
    </script>

    <h1>Hello World 你好1111</h1>
    <a href="javascript:DingDingShare();">点击分享</a>
  </body>
</html>
